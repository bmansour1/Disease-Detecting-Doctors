# Disease-Detecting-Doctors

## Local Environment Setup

- If you don't have Python installed yet, [click here](https://www.python.org/downloads/). Flask supports versions 3.8+.
- If you don't have npm installed yet, [click here](https://docs.npmjs.com/downloading-and-installing-node-js-and-npm)

Follow these steps to set up your local development environment:

### For Linux/macOS

1. **Clone the Repository and Enter the ```backend``` Folder**
   
   ```bash
   git clone https://github.com/bmansour1/Disease-Detecting-Doctors.git
   cd Disease-Detecting-Doctors/backend
   ```
   
2. **Create and Activate a Python Virtual Environment**
   
   ```bash
   python3 -m venv venv
   source venv/bin/activate
   ```
3. **Set Up Backend Environment Variables**

   Create a ```.env``` file: 
   ```bash
   touch .env
   ```
   You will need to add an ```OPEN_API_KEY``` and a ```PLACES_API_KEY``` to this file. These are for accessing OpenAI's and Google Places' APIs, respectively.

   Next, you will need a JSON key generated by a google service account with permissions to Cloud Firestore. Once obtained, paste the key into the ```backend```
   folder and rename it to ```key.json```.
   
4. **Install Backend Dependencies**
   
   ```bash
   pip install -r requirements.txt
   ```
5. **Install Frontend Dependencies**
   
   ```bash
   cd ../frontend
   npm install
   ```
6. **Set Up Environment Variables**

   Create a ```.env.local``` file: 
   ```bash
   touch .env.local
   ```
   You will need to add a ```VITE_CLERK_PUBLISHABLE_KEY``` and a ```VITE_GOOGLE_MAPS_API_KEY``` to this file.
   These are for accessing Clerk's and Google Places' APIs, respectively.

7. **Optional: Configure package.json start script**
- Open the package.json file under the ```src``` folder
- Locate the ```"start"``` script under ```"scripts"```
  
   The start script currently starts both the front and backend servers at the same time. If you wish to use a separate code editor like PyCharm for the backend, you may find    it convenient to run the frontend only with
   ```
   "start": "vite"
   ```
  
8. **Run the Application**
   
   ```bash
   npm start
   ```
   Vite and Flask should both start up at the same time.
   The frontend (Vite) will be located at
   ```url
   http://localhost:5173
   ```
   The backend (Flask) will be located at
   ```url
   http://127.0.0.1:5000
   ```

### For Windows

1. **Clone the Repository and Enter the ```backend``` Folder**
   
   ```bash
   git clone https://github.com/bmansour1/Disease-Detecting-Doctors.git
   cd Disease-Detecting-Doctors\backend
   ```
2. **Create and Activate a Python Virtual Environment**
   
   ```bash
   python -m venv venv
   venv\Scripts\activate
   ```
   If your virtual environment does not activate, consult the [Python Documentation](https://docs.python.org/3/library/venv.html) for setting up your virtual environment.        There are unique activation scripts for the Windows Command Prompt and Windows PowerShell.
   
3. **Install Backend Dependencies**
   
   ```bash
   pip install -r requirements.txt
   ```
4. **Set Up Backend Environment Variables**

   Create a ```.env``` file: 
   ```bash
   type nul > .env
   ```
   You will need to add an ```OPEN_API_KEY``` and a ```PLACES_API_KEY``` to this file.
   These are for accessing OpenAI's and Google Places' APIs, respectively.

   Next, you will need a JSON key generated by a google service account with permissions to Cloud Firestore. Once obtained, paste the key into the ```backend```
   folder and rename it to ```key.json```.
   
5. **Install Frontend Dependencies**
   
   ```bash
   cd ..\frontend
   npm install
   ```
6. **Set Up Frontend Environment Variables**

   Create a ```.env.local``` file: 
   ```bash
   type nul > .env.local
   ```
   You will need to add a ```VITE_CLERK_PUBLISHABLE_KEY``` and a ```VITE_GOOGLE_MAPS_API_KEY``` to this file.
   These are for accessing Clerk's and Google Places' APIs, respectively.
  
7. **Configure package.json start script**
- Open the package.json file under the ```src``` folder
- Locate the ```"start"``` script under ```"scripts"```
  
   The start script currently starts both the front and backend servers at the same time. If you wish to use a separate code editor like PyCharm for the backend, you may find    it convenient to run the frontend only with
   ```bash
   "start": "vite"
   ```
   Otherwise, you will need to modify the start script to include the Windows virtual environment activation script, such as
   ```bash
   "start": "concurrently \"cd ../backend && venv\\Scripts\\activate && flask run\" \"vite\""
   ```

8. **Run the Application**
   
   ```bash
   npm start
   ```
   If you completed step 8 correctly, Vite and Flask should both start up at the same time.
   The frontend (Vite) will be located at
   ```url
   http://localhost:5173
   ```
   The backend (Flask) will be located at
   ```url
   http://127.0.0.1:5000
   ```
   
